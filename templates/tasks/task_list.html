{% extends 'base.html' %}

{% block content %}
<style>
    body {
        background-color: rgb(34, 34, 34);
    }
    
    .container {
        color: rgb(255, 255, 255);
    }

    h2 {
        color: rgb(255, 255, 255);
    }

    .form-inline .form-control {
        background-color: rgb(55, 55, 55);
        color: rgb(255, 255, 255);
        border: 1px solid rgb(206, 212, 218);
    }

    .form-inline .form-control:focus {
        outline: none;
        border-color: rgb(0, 123, 255);
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }
    
    .list-group-item {
        background-color: rgb(55, 55, 55);
        border: 1px solid rgba(0, 0, 0, 0.125);
    }

    .list-group-item a {
        color: rgb(255, 255, 255);
    }

    .badge-primary, .btn-primary {
        background-color: rgb(0, 123, 255);
        border-color: rgb(0, 123, 255);
    }

    .btn-warning {
        background-color: rgb(255, 193, 7);
        border-color: rgb(255, 193, 7);
    }
</style>
<div class="container mt-3">
    <h2>Список завдань</h2>
    <a href="{% url 'tasks:task-create'%}" class="btn btn-primary mb-3">Додати завдання</a>

    <br>

    <form method="get" class="form-inline mb-3">
        <div class="d-flex align-items-center">
            <span class="mr-2">{{ form.status.label_tag }}</span>
            {{ form.status }}
        </div>
        <button type="submit" class="btn btn-primary ml-2">Фільтрувати</button>
    </form>

    <ul class="list-group">
        {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <a href="{% url 'tasks:task-detail' task.pk %}">{{ task.title }}</a>
                <span class="badge badge-primary">{{ task.status }}</span>
                <span class="badge badge-secondary">{{ task.priority }}</span>
            </div>
            <form action="{% url 'tasks:task-complete' task.pk %}" method="post">
                {% csrf_token %}
                <button type="submit" class="btn btn-warning btn-sm">Помітити як виконано</button>
            </form>
        </li>
        {% empty %}
        <li class="list-group-item">Завдань не знайдено.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}